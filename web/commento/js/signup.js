!function(){"use strict";void 0===window.commento&&(window.commento={}),window.commento.origin="[[[.Origin]]]",window.commento.cdn="[[[.CdnPrefix]]]"}(window,document),function(o,i){"use strict";o.paramGet=function(o){for(var t=decodeURIComponent(window.location.search.substring(1)).split("&"),e=0;e<t.length;e++){var n=t[e].split("=");if(n[0]===o)return void 0===n[1]||n[1]}return null},o.buttonDisable=function(o){$(o).attr("disabled",!0)},o.buttonEnable=function(o){$(o).attr("disabled",!1)},o.textSet=function(o,t){var e=$(o);e.show(),e.text(t)},o.unfilledMark=function(o,t){for(var e=0;e<o.length;e++){var n=$(o[e]);""===n.val()&&t(n)}return!0},o.cookieGet=function(o){var t=("; "+i.cookie).split("; "+o+"=");if(2===t.length)return t.pop().split(";").shift()},o.cookieSet=function(o,t){var e=new Date;e.setTime(e.getTime()+31536e6);var n=o+"="+t+("; expires="+e.toUTCString())+"; path=/";/^https:\/\//i.test(origin)&&(n+="; secure"),i.cookie=n},o.cookieDelete=function(o){i.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},o.timeSince=function(o){var t=Math.floor((new Date-o)/1e3),e=Math.floor(t/31536e3);return 1<e?e+" years ago":1<(e=Math.floor(t/2592e3))?e+" months ago":1<(e=Math.floor(t/86400))?e+" days ago":1<(e=Math.floor(t/3600))?e+" hours ago":1<(e=Math.floor(t/60))?e+" minutes ago":5<t?Math.floor(t)+" seconds ago":"just now"}}(window.commento,document),function(o){"use strict";o.post=function(o,t,e){$.ajax({url:o,type:"POST",data:JSON.stringify(t),success:function(o){var t=JSON.parse(o);e(t)}})},o.get=function(o,e){$.ajax({url:o,type:"GET",success:function(o){var t=JSON.parse(o);e(t)}})}}(window.commento,document),function(o,t){"use strict";o.loggedInRedirect=function(){void 0!==o.cookieGet("commentoOwnerToken")&&(t.location=o.origin+"/dashboard")},o.prefillEmail=function(){void 0!==o.paramGet("email")&&($("#email").val(o.paramGet("email")),$("#password").click())}}(window.commento,document),function(e,n){"use strict";e.signup=function(o){if(o.preventDefault(),$("#password").val()===$("#password2").val())if(e.unfilledMark(["#email","#name","#password","#password2"],function(o){o.css("border-bottom","1px solid red")})){var t={email:$("#email").val(),name:$("#name").val(),password:$("#password").val()};e.buttonDisable("#signup-button"),e.post(e.origin+"/api/owner/new",t,function(o){e.buttonEnable("#signup-button"),o.success?o.confirmEmail?n.location=e.origin+"/confirm-email":n.location=e.origin+"/login?signedUp=true":e.textSet("#err",o.message)})}else e.textSet("#err","Please make sure all fields are filled");else e.textSet("#err","The two passwords don't match")}}(window.commento,document);